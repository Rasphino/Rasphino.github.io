<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=content-language content="zh-cn"><meta name=color-scheme content="light dark"><meta name=author content="Rasphino"><meta name=description content="在 nix-darwin 的配置文件（例如你的configuration.nix）中添加： programs.fish.enable = true; environment.shells = [ pkgs.bashInteractive pkgs.zsh pkgs.fish ]; users.users.<name> = { name = &#34;<name>&#34;; home = &#34;/Users/<name>&#34;; shell = pkgs.fish; }; 参见：nix-darwin"><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="使用 nix-darwin 为 macOS 启用 fish"><meta name=twitter:description content="在 nix-darwin 的配置文件（例如你的configuration.nix）中添加： programs.fish.enable = true; environment.shells = [ pkgs.bashInteractive pkgs.zsh pkgs.fish ]; users.users.<name> = { name = &#34;<name>&#34;; home = &#34;/Users/<name>&#34;; shell = pkgs.fish; }; 参见：nix-darwin"><meta property="og:title" content="使用 nix-darwin 为 macOS 启用 fish"><meta property="og:description" content="在 nix-darwin 的配置文件（例如你的configuration.nix）中添加： programs.fish.enable = true; environment.shells = [ pkgs.bashInteractive pkgs.zsh pkgs.fish ]; users.users.<name> = { name = &#34;<name>&#34;; home = &#34;/Users/<name>&#34;; shell = pkgs.fish; }; 参见：nix-darwin"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.rasphino.cn/posts/use-fish-with-nix-darwin/"><meta property="article:published_time" content="2023-02-08T12:00:00+08:00"><meta property="article:modified_time" content="2023-02-08T12:00:00+08:00"><meta property="og:site_name" content="Rasphino's 魔法屋"><title>使用 nix-darwin 为 macOS 启用 fish · Rasphino's 魔法屋</title><link rel=canonical href=https://blog.rasphino.cn/posts/use-fish-with-nix-darwin/><link rel=preload href="https://blog.rasphino.cn/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=https://blog.rasphino.cn/css/coder.min.144dbded64fa39be909de032d781daea652fbf3fad40384fd40f4dd1d28ccbcf.css integrity="sha256-FE297WT6Ob6QneAy14Ha6mUvvz+tQDhP1A9N0dKMy88=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=https://i.loli.net/2018/11/11/5be80a6f14feb.png sizes=32x32><link rel=icon type=image/png href=https://i.loli.net/2018/11/11/5be80a6f14feb.png sizes=16x16><link rel=apple-touch-icon href=https://blog.rasphino.cn/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=https://blog.rasphino.cn/images/apple-touch-icon.png><meta name=generator content="Hugo 0.73.0"></head><body class="preload-transitions colorscheme-light"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://blog.rasphino.cn/>Rasphino's 魔法屋</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=https://blog.rasphino.cn/posts/>博客</a></li><li class=navigation-item><a class=navigation-link href=https://blog.rasphino.cn/about/>关于</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class=navigation-item><a href=https://blog.rasphino.cn/en/>English</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://blog.rasphino.cn/posts/use-fish-with-nix-darwin/>使用 nix-darwin 为 macOS 启用 fish</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i><time datetime=2023-02-08T12:00:00+08:00>February 8, 2023</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>阅读时间：1 分钟</span></div><div class=categories><i class="fa fa-folder" aria-hidden=true></i><a href=https://blog.rasphino.cn/categories/%E6%95%99%E7%A8%8B/>教程</a></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i><span class=tag><a href=https://blog.rasphino.cn/tags/nix/>Nix</a></span>
<span class=separator>•</span>
<span class=tag><a href=https://blog.rasphino.cn/tags/nix-darwin/>nix-darwin</a></span>
<span class=separator>•</span>
<span class=tag><a href=https://blog.rasphino.cn/tags/fish/>fish</a></span></div></div></header><div><nav id=TableOfContents></nav><p>在 nix-darwin 的配置文件（例如你的<code>configuration.nix</code>）中添加：</p><div class=highlight><pre style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix>programs<span style=color:#666>.</span>fish<span style=color:#666>.</span>enable <span>=</span> <span style=color:#60add5>true</span>;
environment<span style=color:#666>.</span>shells <span>=</span> [ pkgs<span style=color:#666>.</span>bashInteractive pkgs<span style=color:#666>.</span>zsh pkgs<span style=color:#666>.</span>fish ];

users<span style=color:#666>.</span>users<span style=color:#666>.</span><span style=color:#235388>&lt;name&gt;</span> <span>=</span> {
    name <span style=color:#666>=</span> <span style=color:#4070a0>&#34;&lt;name&gt;&#34;</span>;
    home <span style=color:#666>=</span> <span style=color:#4070a0>&#34;/Users/&lt;name&gt;&#34;</span>;
    shell <span style=color:#666>=</span> pkgs<span style=color:#666>.</span>fish;
};
</code></pre></div><p>参见：<a href=https://github.com/LnL7/nix-darwin/issues/515>nix-darwin issue</a></p></div><footer></footer></article><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.5/dist/katex.min.css integrity=sha384-L+Gq2Cso/Y2x8fX4wausgiZT8z0QPZz7OqPuz4YqAycQJyrJT9NRLpjFBD6zlOia crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.5/dist/katex.min.js integrity=sha384-z64WtjpyrKFsxox9eI4SI8eM9toXdoYeWb5Qh+8PO+eG54Bv9BZqf9xNhlcLf/sA crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.5/dist/contrib/auto-render.min.js integrity=sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl crossorigin=anonymous onload="renderMathInElement(document.body,{delimiters:[{left:'$$',right:'$$',display:true},{left:'$',right:'$',display:false},{left:'\\(',right:'\\)',display:false},{left:'\\[',right:'\\]',display:true}]});"></script></section></div><footer class=footer><section class=container><p>Too Young Too Simple, Sometimes Naive.</p>©
2023
Rasphino
·
技术支持 <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.</section></footer></main><script src=https://blog.rasphino.cn/js/coder.min.f92783b4545b68f3523e5d6ad91d93f76818f9d0db2ffa13bda31b6119cde62b.js integrity="sha256-+SeDtFRbaPNSPl1q2R2T92gY+dDbL/oTvaMbYRnN5is="></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-104383530-1','auto');ga('send','pageview');}</script></body></html>